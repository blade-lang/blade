add_library(threads OBJECT threads.c threads.h)
target_include_directories(threads INTERFACE "${CMAKE_CURRENT_SOURCE_DIR}")
check_function_exists("timespec_get" HAVE_TIMESPEC_GET)
if(HAVE_TIMESPEC_GET)
    target_compile_definitions(threads PRIVATE -DHAVE_TIMESPEC_GET)
endif()
